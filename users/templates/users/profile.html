{% extends "base.html" %}
{% load static %}

{% block title %}–ü—Ä–æ—Ñ–∏–ª—å | Magic RPG Tracker{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="/static/vendor/css/profil.css">
{% endblock %}

{% block content %}
<div class="profile-container">
    <div class="profile-header reveal">
        <div class="profile-bg"></div>
        <div class="profile-avatar-container">
            <div class="profile-frame magic-aura">
                {% if profile.avatar %}
                <img src="{{ profile.avatar.url|default:'/static/images/default_avatar.png' }}" alt="Avatar" class="profile-avatar">
                {% else %}
                <img src="/static/images/default_avatar.png" alt="Avatar" class="profile-avatar">
                {% endif %}
            </div>
            <h3 class="profile-title">{{ profile.title|default:"–ù–∞—á–∏–Ω–∞—é—â–∏–π –û—Ö–æ—Ç–Ω–∏–∫" }}</h3>
        </div>
        <div class="profile-info">
            <h1 class="username text-gradient">{{ user.username }}</h1>
            <div class="profile-stats">
                <div class="stat-item">
                    <div class="stat-label">–£—Ä–æ–≤–µ–Ω—å</div>
                    <div class="stat-value">{{ profile.level }}</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">–°–µ—Ä–∏—è</div>
                    <div class="stat-value">{{ profile.streak }} –¥–Ω–µ–π</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">–ú–æ–Ω–µ—Ç—ã</div>
                    <div class="stat-value">{{ profile.coins }}</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">–ö—Ä–∏—Å—Ç–∞–ª–ª—ã</div>
                    <div class="stat-value">{{ profile.gems }}</div>
                </div>
            </div>
        </div>
        <div class="profile-actions">
            <a href="{% url 'users:profile:edit_profile' %}" class="btn">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</a>
        </div>
    </div>

    <div class="profile-content">
        <div class="profile-section card reveal">
            <div class="card-header">
                <h2>–û–ø—ã—Ç –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å</h2>
            </div>
            <div class="card-body">
                <div class="exp-progress">
                    <div class="progress progress-animated">
                        <div class="progress-bar"  data-value="{{ profile.experience }}" data-max="{{ profile.experience_needed }}"></div>
                    </div>
                    <div class="exp-text">{{ profile.experience }} / {{ profile.experience_needed }} XP</div>
                </div>
                <div class="level-info">
                    <p>–ù–∞–±–∏—Ä–∞–π—Ç–µ –æ–ø—ã—Ç, –≤—ã–ø–æ–ª–Ω—è—è –∑–∞–¥–∞—á–∏, —É—á–∞—Å—Ç–≤—É—è –≤ —Ç—É—Ä–Ω–∏—Ä–∞—Ö –∏ –¥—É—ç–ª—è—Ö!</p>
                </div>
            </div>
        </div>

        <div class="profile-section card reveal">
            <div class="card-header">
                <h2>–ú–µ–¥–∞–ª–∏ –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h2>
            </div>
            <div class="card-body">
                {% if medals %}
                <div class="medals-grid">
                    {% for medal in medals %}
                    <div class="medal-item {{ medal.medal_type }}">
                        <div class="medal-icon">üèÖ</div>
                        <div class="medal-name">{{ medal.name }}</div>
                        <div class="medal-desc">{{ medal.description }}</div>
                    </div>
                    {% endfor %}
                </div>
                {% else %}
                <div class="empty-state">
                    <p>–ü–æ–∫–∞ –Ω–µ—Ç –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –º–µ–¥–∞–ª–µ–π. –ó–∞–≤–µ—Ä—à–∏—Ç–µ –∑–∞–¥–∞—á–∏ –∏ –≤—ã–∏–≥—Ä–∞–π—Ç–µ —Ç—É—Ä–Ω–∏—Ä—ã, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –∏—Ö!</p>
                </div>
                {% endif %}
            </div>
        </div>

        <div class="profile-section card reveal">
            <div class="card-header">
                <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
            </div>
            <div class="card-body">
                <div class="settings-grid">
                    <div class="setting-item">
                        <div class="setting-label">–¢–µ–º–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</div>
                        <div class="setting-value">{{ profile.get_theme_preference_display }}</div>
                    </div>
                    <div class="setting-item">
                        <div class="setting-label">–Ø–∑—ã–∫</div>
                        <div class="setting-value">–†—É—Å—Å–∫–∏–π</div>
                    </div>
                    <div class="setting-item">
                        <div class="setting-label">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</div>
                        <div class="setting-value">–í–∫–ª—é—á–µ–Ω—ã</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="profile-section card reveal">
            <div class="card-header">
                <h2>–û —Å–µ–±–µ</h2>
            </div>
            <div class="card-body">
                {% if profile.bio %}
                <div class="bio-text">
                    {{ profile.bio }}
                </div>
                {% else %}
                <div class="empty-state">
                    <p>–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ —Å–µ–±–µ, –¥–æ–±–∞–≤–∏–≤ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –ø—Ä–æ—Ñ–∏–ª—è.</p>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>



{% endblock %}