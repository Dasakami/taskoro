{% extends 'base.html' %}
{% load static %}

{% block title %}–ò—Å—Ç–æ—Ä–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏{% endblock %}
{% block seo %}
<meta name="description" content="–°–ª–µ–¥–∏ –∑–∞ —Å–≤–æ–∏–º–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è–º–∏, –∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –ø—Ä–æ–≥—Ä–µ—Å—Å –∏ —Å—Ç–∞–Ω–æ–≤–∏—Å—å —Å–∏–ª—å–Ω–µ–µ —Å –∫–∞–∂–¥—ã–º –¥–Ω—ë–º!">
<meta name="keywords" content="–ø—Ä–æ–≥—Ä–µ—Å—Å, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è, –∏—Å—Ç–æ—Ä–∏—è, —Ä–∞–∑–≤–∏—Ç–∏–µ, –º–æ—Ç–∏–≤–∞—Ü–∏—è, Taskoro">
<meta name="robots" content="index, follow">
<meta name="author" content="Dan Dasakami">

<!-- Open Graph -->
<meta property="og:title" content="–ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ ‚Äî –û—Ç—Å–ª–µ–∂–∏–≤–∞–π —Å–≤–æ–π —Ä–æ—Å—Ç –≤ Taskoro">
<meta property="og:description" content="–°–ª–µ–¥–∏ –∑–∞ —Å–≤–æ–∏–º–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è–º–∏, –∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –ø—Ä–æ–≥—Ä–µ—Å—Å –∏ —Å—Ç–∞–Ω–æ–≤–∏—Å—å —Å–∏–ª—å–Ω–µ–µ —Å –∫–∞–∂–¥—ã–º –¥–Ω—ë–º!">
<meta property="og:type" content="website">
<meta property="og:url" content="{{ request.build_absolute_uri }}">
<meta property="og:image" content="">

<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="–ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ ‚Äî –û—Ç—Å–ª–µ–∂–∏–≤–∞–π —Å–≤–æ–π —Ä–æ—Å—Ç –≤ Taskoro">
<meta name="twitter:description" content="–°–ª–µ–¥–∏ –∑–∞ —Å–≤–æ–∏–º–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è–º–∏, –∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –ø—Ä–æ–≥—Ä–µ—Å—Å –∏ —Å—Ç–∞–Ω–æ–≤–∏—Å—å —Å–∏–ª—å–Ω–µ–µ —Å –∫–∞–∂–¥—ã–º –¥–Ω—ë–º!">
<meta name="twitter:image" content="">
{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'vendor/css/history.css' %}">
{% endblock %}

{% block content %}
<div class="history-container">
    <div class="activity-filters">
        <form method="get" class="filter-form">
            <label for="type">–§–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É:</label>
            <select name="type" id="type" class="filter-select" onchange="this.form.submit()">
                <option value="">–í—Å–µ</option>
                {% for key, name in activity_types %}
                    <option value="{{ key }}" {% if request.GET.type == key %}selected{% endif %}>{{ name }}</option>
                {% endfor %}
            </select>
        </form>
    </div>
    <div class="activity-list">
        {% for activity in activities %}
            <div class="activity-item">
                <div class="activity-header">
                    <div class="activity-icon">üìù</div>
                    <div class="activity-info">
                        <div class="activity-type">{{ activity.get_activity_type_display }}</div>
                        <div class="activity-title">{{ activity.title }}</div>
                    </div>
                    <div class="activity-time">{{ activity.created_at|date:"d.m.Y H:i" }}</div>
                </div>
                <div class="activity-content">
                    <div class="activity-description">{{ activity.description }}</div>
                    {% if activity.reward_points or activity.reward_coins %}
                    <div class="activity-rewards">
                        {% if activity.reward_points %}
                            <div class="reward-item">‚≠ê {{ activity.reward_points }} –æ—á–∫–æ–≤</div>
                        {% endif %}
                        {% if activity.reward_coins %}
                            <div class="reward-item">üí∞ {{ activity.reward_coins }} –º–æ–Ω–µ—Ç</div>
                        {% endif %}
                    </div>
                    {% endif %}
                </div>
            </div>
        {% empty %}
            <p>–ò—Å—Ç–æ—Ä–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø—É—Å—Ç–∞.</p>
        {% endfor %}
    </div>
</div>
{% endblock %}
